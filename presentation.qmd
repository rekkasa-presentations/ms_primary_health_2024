---
title: Εισαγωγή στην ανάλυση υγειονομικών δεδομένων πραγματικού κόσμου
format:
  revealjs:
    width: 1920
    height: 1080
    transition: fade
    fontsize: "60px"
    slide-number: true
    menu: false
css: styles.css
---

```{r, eval=TRUE, echo=FALSE, warning=FALSE, message=FALSE}
source("code/data_preparation.R")
gusto <- readr::read_csv(
  file = "data/gusto.csv",
  show_col_types = FALSE
)
```

# Εισαγωγικά

## Στόχοι

\
\

> Τελικός στόχος είναι η ιατρική απόφαση

\
\

* Γνώση των πιθανών θεραπειών
* Καθορισμός των αποτελεσμάτων ενδιαφέροντος
* Καθορισμός ενός χρονικού πλαισίου


## Πειραματισμός

\
\

![](images/image_1.png)

## Κλινικές δοκιμές

\
\

> Η βασική μέθοδος εξαγωγής συμπερασμάτων

\
\

* Λήψη τυχαίου δείγματος από τον πληθυσμό
* Τυχαιοποιημένη διανομή θεραπειών ενδιαφέροντος
* Αυστηρά προκαθορισμένα αποτελέσματα ενδιαφέροντος
* Αυστηρά προκαθορισμένα χρονικά πλαίσια

## Κλινικές δοκιμές

\
\

![](images/rct_dag.svg)


## Κλινικές δοκιμές - Παράδειγμα

\
\

::: {.columns}

::: {.column width="60%"}
![](images/gusto_trial.png)
:::

::: {.column width="40%"}

\

<div class="small-text">

> **Πληθυσμός**: Ασθενείς με οξύ έμφραγμα του μυοκαρδίου
>
> **Θεραπείες**:
> 
> * Ιστικός ενεργοποιητής πλασμινογόνου (αλτεπλάση)
> * Στρεπτοκινάση
> 
> **Αποτέλεσμα**: Θάνατος
> 
> **Χρονικό πλαίσιο**: 30 ημέρες

</div>

:::

:::

## Κλινικές δοκιμές - Παράδειγμα

\
\

```{r,eval=TRUE,echo=FALSE}
gusto |>
  head(10) |> 
  DT::datatable(
    style = "bootstrap4",
    class = "slide-datatable",
    filter = "none",
    options = list(
      dom = 't',
      paging = FALSE,
      searching = FALSE,
      info = FALSE
    )
  )
```


## Κλινικές δοκιμές - Παράδειγμα

\
\

* Η έκβαση ενδιαφέροντος είναι δυαδική (0 ή 1)

\
\

> Πώς μοντελοποιούμε μία τέτοια έκβαση;

## Κλινικές δοκιμές - Παράδειγμα

\
\

**Λογιστική παλινδρόμηση**

\

$$
log(\frac{p}{1-p}) = \beta_0+\beta_1x_1+\dots+\beta_px_p
$$

* $p$ είναι η πιθανότητα να συμβεί το αποτέλεσμα ενδιαφέροντος
* $x_1,\dots,x_p$ είναι οι μεταβλητές που έχουμε καταγράψει
* $\beta_0,\dots,\beta_p$ είναι οι παράμετροι του μοντέλου

## Κλινικές δοκιμές - Παράδειγμα

\
\

Το μοντέλο που θα χρησιμοποιήσουμε για τη σύγκριση των δύο θεραπειών:

$$
log(\frac{p}{1-p}) = \beta_0 + \beta_t\times treatment
$$


Το αποτέλεσμα της ανάλυσης:

$$OR = e^{\beta_t} = e^{-0.16} \approx 0.85$$

# Δεδομένα πραγματικού κόσμου

## Περιορισμοί κλινικών δοκιμών

\
\

* Απαιτούν πολύ χρόνο
* Έχουν πολύ μεγάλο κόστος
* Απαιτούν τη στρατολόγηση μεγάλου αριθμού συμμετεχόντων
* Μελετούν πολύ συγκεκριμένους πληθυσμούς
* Συνήθως απαντούν σε έναν πολύ περιορισμένο αριθμό ερωτημάτων
* Εξ'ορισμού, απαιτούν πειραματισμό --- ηθικά ζητήματα

## Δεδομένα πραγματικού κόσμου

\
\

> Οι ασθενείς, κατά την αλληλεπίδρασή τους με το σύστημα υγείας παράγουν έναν
> τεράστιο όγκο δεδομένων.

\

* Ηλεκτρονικά συστήματα νοσοκομείων
* Ηλεκτρονικά συστήματα παρόχων πρωτοβάθμιας περίθαλψης
* Συστήματα παρόχων ηλεκτρονικής συνταγογράφησης
* Συστήματα ασφαλιστικών εταιρειών
* Μητρώα ασθενών

## Πλεονεκτήματα

\
\

* Χρειάζονται σημαντικά λιγότερο χρόνο
* Τα αποτελέσματα μπορούν πιο εύκολα να γενικευθούν
* Περιέχουν διαφορετικούς πληθυσμούς

## Πλεονεκτήματα

\
\

* Μειώνουν την έκθεση των ασθενών σε κινδύνους
* Μπορούν να βοηθήσουν στη μελέτη σπάνιων ασθενειών
* Μπορούν να πραγματοποιηθούν σε συνθήκες που ο πειραματισμός είναι αδύνατος

## Μειονεκτήματα

\
\

* Συχνά περιορισμένη αντιπροσωπευτικότητα
* Ασυνέχεια στην καταγραφή της κατάστασης των ασθενών
* Συστηματική απώλεια πληροφορίας (π.χ. ιατρικό ιστορικό)
* Τεράστιο πλήθος τρόπων αποθήκευσης των δεδομένων

## Μειονεκτήματα

\
\

* Συστηματικό σφάλμα επιλογής (selection bias)
  * Μεροληψία του Berkson (Berkson bias)
  * Prevalent-user bias
  * Immortal time bias

## Πλασματική συσχέτιση

\
\

![](images/observational_dag.svg)

## Πλασματική συσχέτιση - Παράδειγμα
